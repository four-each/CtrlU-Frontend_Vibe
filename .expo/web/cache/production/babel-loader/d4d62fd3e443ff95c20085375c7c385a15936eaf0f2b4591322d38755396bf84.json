{"ast":null,"code":"import NativeReanimatedModule from\"./NativeReanimated\";import{makeShareableCloneOnUIRecursive,makeShareableCloneRecursive,registerShareableMapping}from\"./shareables\";import{runOnUI}from\"./threads\";import{valueSetter}from\"./valueSetter\";export{stopMapper}from\"./mappers\";var _worklet_6223950855890_init_data={code:\"function makeUIMutable(initial,syncDataHolder){const{valueSetter,makeShareableCloneOnUIRecursive}=this._closure;const listeners=new Map();let value=initial;const self={set value(newValue){valueSetter(self,newValue);},get value(){return value;},set _value(newValue){value=newValue;if(syncDataHolder){_updateDataSynchronously(syncDataHolder,makeShareableCloneOnUIRecursive(newValue));}listeners.forEach(function(listener){listener(newValue);});},get _value(){return value;},addListener:function(id,listener){listeners.set(id,listener);},removeListener:function(id){listeners.delete(id);},_animation:null,_isReanimatedSharedValue:true};return self;}\",location:\"/Users/positive-yeon/Downloads/cursor-talk-to-figma-mcp-main/node_modules/react-native-reanimated/lib/module/reanimated2/mutables.js\"};export var makeUIMutable=function(){var _f=function _f(initial,syncDataHolder){var listeners=new Map();var value=initial;var self={set value(newValue){valueSetter(self,newValue);},get value(){return value;},set _value(newValue){value=newValue;if(syncDataHolder){_updateDataSynchronously(syncDataHolder,makeShareableCloneOnUIRecursive(newValue));}listeners.forEach(function(listener){listener(newValue);});},get _value(){return value;},addListener:function addListener(id,listener){listeners.set(id,listener);},removeListener:function removeListener(id){listeners.delete(id);},_animation:null,_isReanimatedSharedValue:true};return self;};_f._closure={valueSetter:valueSetter,makeShareableCloneOnUIRecursive:makeShareableCloneOnUIRecursive};_f.__initData=_worklet_6223950855890_init_data;_f.__workletHash=6223950855890;return _f;}();var _worklet_14304230717326_init_data={code:\"function anonymous(){const{makeUIMutable,initial,syncDataHolder}=this._closure;return makeUIMutable(initial,syncDataHolder);}\",location:\"/Users/positive-yeon/Downloads/cursor-talk-to-figma-mcp-main/node_modules/react-native-reanimated/lib/module/reanimated2/mutables.js\"};var _worklet_13878774078109_init_data={code:\"function anonymous(){const{mutable,newValue}=this._closure;mutable.value=newValue;}\",location:\"/Users/positive-yeon/Downloads/cursor-talk-to-figma-mcp-main/node_modules/react-native-reanimated/lib/module/reanimated2/mutables.js\"};var _worklet_7119061662271_init_data={code:\"function anonymous(){const{mutable,modifier}=this._closure;mutable.value=modifier(mutable.value);}\",location:\"/Users/positive-yeon/Downloads/cursor-talk-to-figma-mcp-main/node_modules/react-native-reanimated/lib/module/reanimated2/mutables.js\"};export function makeMutable(initial){var oneWayReadsOnly=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var value=initial;var syncDataHolder;if(!oneWayReadsOnly&&NativeReanimatedModule.native){syncDataHolder=NativeReanimatedModule.makeSynchronizedDataHolder(makeShareableCloneRecursive(value));registerShareableMapping(syncDataHolder);}var handle=makeShareableCloneRecursive({__init:function(){var _f=function _f(){return makeUIMutable(initial,syncDataHolder);};_f._closure={makeUIMutable:makeUIMutable,initial:initial,syncDataHolder:syncDataHolder};_f.__initData=_worklet_14304230717326_init_data;_f.__workletHash=14304230717326;return _f;}()});var listeners=NativeReanimatedModule.native?undefined:new Map();var mutable={set value(newValue){if(NativeReanimatedModule.native){runOnUI(function(){var _f=function _f(){mutable.value=newValue;};_f._closure={mutable:mutable,newValue:newValue};_f.__initData=_worklet_13878774078109_init_data;_f.__workletHash=13878774078109;return _f;}())();}else{valueSetter(mutable,newValue);}},get value(){if(syncDataHolder){return NativeReanimatedModule.getDataSynchronously(syncDataHolder);}return value;},set _value(newValue){if(NativeReanimatedModule.native){throw new Error('Setting `_value` directly is only possible on the UI runtime');}value=newValue;listeners.forEach(function(listener){listener(newValue);});},get _value(){if(NativeReanimatedModule.native){throw new Error('Reading from `_value` directly is only possible on the UI runtime');}return value;},modify:function modify(modifier){runOnUI(function(){var _f=function _f(){mutable.value=modifier(mutable.value);};_f._closure={mutable:mutable,modifier:modifier};_f.__initData=_worklet_7119061662271_init_data;_f.__workletHash=7119061662271;return _f;}())();},addListener:function addListener(id,listener){if(NativeReanimatedModule.native){throw new Error('adding listeners is only possible on the UI runtime');}listeners.set(id,listener);},removeListener:function removeListener(id){if(NativeReanimatedModule.native){throw new Error('removing listeners is only possible on the UI runtime');}listeners.delete(id);},_isReanimatedSharedValue:true};registerShareableMapping(mutable,handle);return mutable;}var _worklet_12489963400323_init_data={code:\"function anonymous(){const{initial}=this._closure;return initial;}\",location:\"/Users/positive-yeon/Downloads/cursor-talk-to-figma-mcp-main/node_modules/react-native-reanimated/lib/module/reanimated2/mutables.js\"};export function makeRemote(){var initial=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var handle=makeShareableCloneRecursive({__init:function(){var _f=function _f(){return initial;};_f._closure={initial:initial};_f.__initData=_worklet_12489963400323_init_data;_f.__workletHash=12489963400323;return _f;}()});registerShareableMapping(initial,handle);return initial;}","map":{"version":3,"names":["NativeReanimatedModule","makeShareableCloneOnUIRecursive","makeShareableCloneRecursive","registerShareableMapping","runOnUI","valueSetter","stopMapper","_worklet_6223950855890_init_data","code","location","makeUIMutable","_f","initial","syncDataHolder","listeners","Map","value","self","newValue","_value","_updateDataSynchronously","forEach","listener","addListener","id","set","removeListener","delete","_animation","_isReanimatedSharedValue","_closure","__initData","__workletHash","_worklet_14304230717326_init_data","_worklet_13878774078109_init_data","_worklet_7119061662271_init_data","makeMutable","oneWayReadsOnly","arguments","length","undefined","native","makeSynchronizedDataHolder","handle","__init","mutable","getDataSynchronously","Error","modify","modifier","_worklet_12489963400323_init_data","makeRemote"],"sources":["/Users/positive-yeon/Downloads/cursor-talk-to-figma-mcp-main/node_modules/react-native-reanimated/lib/module/reanimated2/mutables.ts"],"sourcesContent":["import NativeReanimatedModule from './NativeReanimated';\nimport { SharedValue, ShareableSyncDataHolderRef } from './commonTypes';\nimport {\n  makeShareableCloneOnUIRecursive,\n  makeShareableCloneRecursive,\n  registerShareableMapping,\n} from './shareables';\nimport { runOnUI } from './threads';\nimport { valueSetter } from './valueSetter';\nexport { stopMapper } from './mappers';\n\nexport function makeUIMutable<T>(\n  initial: T,\n  syncDataHolder?: ShareableSyncDataHolderRef<T>\n) {\n  'worklet';\n\n  const listeners = new Map();\n  let value = initial;\n\n  const self = {\n    set value(newValue) {\n      valueSetter(self, newValue);\n    },\n    get value() {\n      return value;\n    },\n    /**\n     * _value prop should only be accessed by the valueSetter implementation\n     * which may make the decision about updating the mutable value depending\n     * on the provided new value. All other places should only attempt to modify\n     * the mutable by assigning to value prop directly.\n     */\n    set _value(newValue: T) {\n      value = newValue;\n      if (syncDataHolder) {\n        _updateDataSynchronously(\n          syncDataHolder,\n          makeShareableCloneOnUIRecursive(newValue)\n        );\n      }\n      listeners.forEach((listener) => {\n        listener(newValue);\n      });\n    },\n    get _value(): T {\n      return value;\n    },\n    addListener: (id: number, listener: (newValue: T) => void) => {\n      listeners.set(id, listener);\n    },\n    removeListener: (id: number) => {\n      listeners.delete(id);\n    },\n    _animation: null,\n    _isReanimatedSharedValue: true,\n  };\n  return self;\n}\n\nexport function makeMutable<T>(\n  initial: T,\n  oneWayReadsOnly = false\n): SharedValue<T> {\n  let value: T = initial;\n  let syncDataHolder: ShareableSyncDataHolderRef<T> | undefined;\n  if (!oneWayReadsOnly && NativeReanimatedModule.native) {\n    // updates are always synchronous when running on web or in Jest environment\n    syncDataHolder = NativeReanimatedModule.makeSynchronizedDataHolder(\n      makeShareableCloneRecursive(value)\n    );\n    registerShareableMapping(syncDataHolder);\n  }\n  const handle = makeShareableCloneRecursive({\n    __init: () => {\n      'worklet';\n      return makeUIMutable(initial, syncDataHolder);\n    },\n  });\n  // listeners can only work on JS thread on Web and jest environments\n  const listeners = NativeReanimatedModule.native ? undefined : new Map();\n  const mutable = {\n    set value(newValue) {\n      if (NativeReanimatedModule.native) {\n        runOnUI(() => {\n          mutable.value = newValue;\n        })();\n      } else {\n        valueSetter(mutable, newValue);\n      }\n    },\n    get value() {\n      if (syncDataHolder) {\n        return NativeReanimatedModule.getDataSynchronously(syncDataHolder);\n      }\n      return value;\n    },\n    set _value(newValue: T) {\n      if (NativeReanimatedModule.native) {\n        throw new Error(\n          'Setting `_value` directly is only possible on the UI runtime'\n        );\n      }\n      value = newValue;\n      listeners!.forEach((listener) => {\n        listener(newValue);\n      });\n    },\n    get _value(): T {\n      if (NativeReanimatedModule.native) {\n        throw new Error(\n          'Reading from `_value` directly is only possible on the UI runtime'\n        );\n      }\n      return value;\n    },\n    modify: (modifier: (value: T) => T) => {\n      runOnUI(() => {\n        mutable.value = modifier(mutable.value);\n      })();\n    },\n    addListener: (id: number, listener: (value: T) => void) => {\n      if (NativeReanimatedModule.native) {\n        throw new Error('adding listeners is only possible on the UI runtime');\n      }\n      listeners!.set(id, listener);\n    },\n    removeListener: (id: number) => {\n      if (NativeReanimatedModule.native) {\n        throw new Error(\n          'removing listeners is only possible on the UI runtime'\n        );\n      }\n      listeners!.delete(id);\n    },\n    _isReanimatedSharedValue: true,\n  };\n  registerShareableMapping(mutable, handle);\n  return mutable;\n}\n\nexport function makeRemote<T extends object>(initial: T = {} as T): T {\n  const handle = makeShareableCloneRecursive({\n    __init: () => {\n      'worklet';\n      return initial;\n    },\n  });\n  registerShareableMapping(initial, handle);\n  return initial;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}